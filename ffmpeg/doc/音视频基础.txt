1.视频帧率、分辨率、码率
1.1.帧率
帧率也称为fps(frames per second)(帧/秒)
是指每秒钟刷新的图片的帧数，也可以理解为图形处理器每秒钟能够刷新几次。
越高的帧速率可以得到更流畅、更逼真的动画。
1.2.分辨率
视频分辨率是指视频成像产品所成图像的大小或尺寸。常见的分辨率有
480P:640x480
720P:1280x720
1080P:1920x1080
1.3.码率
视频码率就是数据传输时单位时间传送的数据位数，一般我们用的单位是kbps即千位每秒。
码率越大，视频质量就越好，但传输占用带宽也就越大。
码率和分辨率和帧率有关，分辨率和帧率越大，码率就越大。
如果一个视频为yuv420p格式，分辨率为1280x720，帧率为25fps，那么视频的码率为1280x720x(3/2)x25/1000=34560KB/s=34560×8kbps=276480kbps
（注意分辨率为1280x720，共有1280x720=921600个像素点，每个像素点占一个字节（8位，2^8=256），因此上式单位为KB/s。
可见，未压缩的视频占用空间或带宽极大。经过H264压缩后视频大约会压缩为原来的1/100，此时带宽占用速度约345.6KB/s。

2.音频采样率、量化位数、声道数、码率
2.1.采样率
定义了每秒从连续信号中提取并组成离散信号的采样个数，它用赫兹(Hz)表示。
2.2.量化位数
量化位数是对模拟音频信号的幅度轴进行数字化，它决定了模拟信号数字化后的动态范围。
由于计算机按字节运算，一般的量化位数为8和16。
量化位数越高，信号的动态范围越大，数字化后的音频信号越可能接近原始信号，文件大小也越大。
2.3.声道数
声道数是音频传输的重要指标，现在主要有单声道和双声道之分。
2.4码率
音频码率=采样率x量化位数x声道数


3.I帧P帧B帧
I帧：帧内编码帧
I 帧表示关键帧，你可以理解为这一帧画面的完整保留；解码时只需要本帧数据就可以完成（因为包含完整画面）。
I帧是一个全帧压缩编码帧。它将全帧图像信息进行 JPEG 压缩编码及传输。
I 帧是 P 帧和 B 帧的参考帧(其质量直接影响到同组中以后各帧的质量)。
I 帧是帧组 GOP 的基础帧(第一帧),在一组中只有一个 I 帧。
I 帧所占数据的信息量比较大。

P帧：前向预测编码帧
P帧的预测与重构：P帧是以I帧为参考帧，在I帧中找出P帧“某点”的预测值与运动矢量，取预测差值和运动矢量一起传送。
接收端根据运动矢量从I帧找出P帧“某点”的预测值并与差值相加，得到P帧“某点”样值，从而可得到完整的P帧。
P帧只参考前面最靠近它的I帧或P帧。
P帧可以是其后面P帧的参考帧，也可以是其前后的B帧的参考帧。
由于P帧是参考帧，它可能造成解码错误的扩散。

B帧：双向预测编码帧
B帧的预测与重构:B帧以前面的I或P帧和后面的P帧为参考帧,“找出”B帧“某点”的预测值和两个运动矢量,并取预测差值和运动矢量传送。
接收端根据运动矢量在两个参考帧中“找出(算出)”预测值并与差值求和,得到B帧“某点”样值,从而可得到完整的B帧。 
B帧是由前面的I帧或P帧和后面的P帧来进行预测的。
B帧的压缩比最高，因为它只反映两参考帧间运动主体的变化情况，预测比较准确。
B帧不是参考帧，不会造成解码错误的扩散。

一般平均来说，I的压缩率是7（跟JPG差不多），P是20，B可以达到50。
B帧越多，越容易获得较好的图像质量，但是B帧比较耗CPU。
B帧存在的情况下，一个GOP的最后一帧一定是P。因为B帧解码需要参考后面的帧。

4.IDR帧
IDR（Instantaneous Decoding Refresh）--即时解码刷新
IDR帧是I帧，但I帧不一定是IDR帧，即IDR帧是一个特殊的I帧。
IDR 帧的作用是立刻刷新，使错误不致传播,从IDR帧开始，重新算一个新的序列开始编码。
对于IDR帧来说，在IDR帧之后的所有帧都不能引用任何IDR帧之前的帧的内容，与此相反，
对于普通的I帧来说，位于其之后的B和P帧可以引用位于普通I帧之前的I帧。
从随机存取的视频流中，播放器永远可以从一个 IDR 帧播放，因为在它之后没有任何帧引用之前的帧，
但是不能在一个没有IDR帧的视频中从任意点开始播放，因为后面的帧总是会引用前面的帧。

5.PTS DTS
PTS:presentation time stamp PTS主要用于度量解码后的视频帧什么时候被显示出来。
DTS：Decode Time Stamp DTS主要是标识读入内存中的bit流在什么时候开始送入解码器中进行解码。
在没有B帧的情况下，DTS和PTS的输出顺序是一样的。
有B帧的情况下，由于B帧需要参考后面的帧，所以后面这个帧要比B帧先解码出来，但是B帧是比后面的这个帧先显示的。


6.GOP
group of pictures
GOP指的就是两个I帧之间的间隔。
在码率不变的情况下，GOP值越大，P、B帧（数据量小）的数量会越多，就更容易获得较好的图像质量。
Reference（参考周期）指两个P帧之间的距离。
同样的Refernece越大，B帧的数量就越多，同理也更容易获得较好的图像质量。

通过提高GOP来提高图像质量是有限度的。原因有三。
a.在遇到场景切换时H264会自动强制插入一个I帧，此时实际的GOP值被缩短了。
b.P、B帧是由I帧预测得到的，当I帧图像质量较差时，会影响到一个GOP中后续P、B帧的图像质量，
直到下一个GOP开始才有可能得以恢复，所以GOP也不宜过大。
c.过长的GOP还会影响seek操作的响应速度，由于P、B帧是由前面的I或P帧预测得到的，
解码某一个P或B帧时，需要先解码得到本GOP内的I帧及之前的N个预测帧才可以，因此GOP也不宜过大。


7.YUV

7.1.YUV概述
YUV是一种彩色编码系统，主要用在视频、图形处理流水线中(pipeline)。
相对于 RGB 颜色空间，设计 YUV 的目的就是为了编码、传输的方便，减少带宽占用和信息出错。
Y代表亮度，UV代表色度、饱和度。
YUV、YCbCr、YPbPr 几个概念其实是一回事儿。

7.2.YUV存储分类
平面存储planar：Y、U、V三个分量在存储的时候，通常以它们形成的平面(plane)来区分。
比如对于一帧图像，先把所有的Y分量按序存储，接着是所有的U，最后是所有的V，也即YYYYYYYYUUVV，这就顺序形成三个平面。
我们通常称这种能形成三个平面的存储格式为YUV420P，其实一般也就两种：YYYYYYYYUUVV和YYYYYYYYVVUU。

交错存储packed：YUV交错存储，按像素点存储。如YUVYUVYUVYUV

7.2.YUV420的分类
I420->YYYYYYYYYYYY UUU VVV
YV12->YYYYYYYYYYYY VVV UUU
NV12->YYYYYYYYYYYY UVUVUV
NV21->YYYYYYYYYYYY VUVUVU

YUV主流的采样方式有三种，YUV4:4:4，YUV4:2:2，YUV4:2:0，但是YUV420是使用最广泛的
YUV420很节省空间或带宽，大小只有RGB的1/2
YUV420P包括I420和YV12，YUV420SP包括NV12和NV21
YUV420P是planar存储，YUV420SP是semi-planar存储(半平面)，因为UV是交错存储的
安卓设备采集的YUV通常为NV21，苹果设备采集的YUV通常为NV12
