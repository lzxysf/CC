<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">
        <title>麦克风测试</title>
    </head>
    <body>
        <audio id='audio' controls></audio>
        <script>
            window.onload = initApp;
            async function initApp()
            {
                let devices = await navigator.mediaDevices.enumerateDevices();
                console.log(devices);
                let audioInputDevices = devices.filter(value => value.kind==='audioinput');
                console.log(audioInputDevices);

                let stream = await navigator.mediaDevices.getUserMedia({video:false, audio:audioInputDevices[0]});
                document.getElementById('audio').srcObject = stream;
            }
        </script>
    </body>
</html>
